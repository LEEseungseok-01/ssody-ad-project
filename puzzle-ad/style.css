body {
  margin: 0;
  font-family: 'Malgun Gothic', sans-serif;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  background-color: #eee;
  user-select: none; 
}

#ad-container {
  width: 450px;
  height: 400px;
  background-color: #fff9e6;
  border: 2px solid #333;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 20px;
  box-sizing: border-box;
  position: relative;
  overflow: hidden;
  box-shadow: 10px 10px 0 rgba(0,0,0,0.1);
}

.header { text-align: center; margin-bottom: 25px; }
.title {
  font-size: 26px; color: #ff5e7e; margin: 0;
  text-shadow: -2px -2px 0 #333, 2px -2px 0 #333, -2px 2px 0 #333, 2px 2px 0 #333;
}
.subtitle {
  font-size: 15px; color: #333; margin: 8px 0 0; padding-bottom: 3px;
  border-bottom: 2px solid #333; display: inline-block;
}
.subtitle span { font-weight: bold; }

.main-wrapper { display: flex; gap: 30px; align-items: flex-start; }

#puzzle-board-container {
  background-color: #333; 
  padding: 3px;
  border: 3px solid #333;
  box-shadow: 5px 5px 0px rgba(0,0,0,0.15);
}

#puzzle-board {
  display: grid;
  grid-template-columns: repeat(3, 80px);
  grid-template-rows: repeat(3, 67px);
  gap: 0;
  background-color: #333; 
}

.piece {
  width: 80px; height: 67px;
  background-image: url('puzzle_image.png');
  background-size: 240px 201px;
  box-sizing: border-box;
}


.piece.fixed {
  box-shadow: inset 0 0 0 1px #000;
}

.p-sample-correct, #drop-zone.piece:not(.empty) {
   clip-path: path('M10 0 H70 Q80 0 80 10 V25 Q90 25 90 35 Q90 45 80 45 V60 Q80 70 70 70 H10 Q0 70 0 60 V45 Q-10 45 -10 35 Q-10 25 0 25 V10 Q0 0 10 0 Z');
   filter: drop-shadow(0 0 1px #000);
}

#drop-zone.empty {
  background-image: none; background-color: #ff5e7e; color: #fff;
  font-size: 30px; font-weight: bold; display: flex; justify-content: center; align-items: center;
  border: 2px dashed #333;
  box-shadow: none; 
}

#options-side { display: flex; flex-direction: column; gap: 20px; justify-content: center; height: 100%; }
.option-row { display: flex; align-items: center; gap: 12px; }
.badge {
  width: 30px; height: 30px; background-color: #4e94f8; color: #fff;
  border-radius: 50%; display: flex; justify-content: center; align-items: center;
  font-weight: bold; font-size: 16px; border: 2px solid #333;
}
.draggable { cursor: grab; border: 2px solid #333; border-radius: 5px; box-shadow: 3px 3px 0 #333; }
.draggable:active { cursor: grabbing; }

.p-edge-top-left { background-position: 0 0; }
.p-edge-top { background-position: -80px 0; }
.p-edge-top-right { background-position: -160px 0; }
.p-edge-left { background-position: 0 -67px; }
.p-edge-right { background-position: -160px -67px; }
.p-edge-bottom-left { background-position: 0 -134px; }
.p-edge-bottom { background-position: -80px -134px; }
.p-edge-bottom-right { background-position: -160px -134px; }
.p-sample-correct { background-position: -80px -67px; }

#feedback {
  position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
  padding: 15px 30px; border-radius: 10px; color: #fff; font-weight: bold;
  font-size: 20px; display: none; z-index: 100; text-align: center;
  box-shadow: 3px 3px 0 #333; border: 2px solid #333;
}